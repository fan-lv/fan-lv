<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="心之所向 素履以往 生如逆旅 一苇以航"><meta name="keywords"><meta name="author" content="吕钒,15757856604@163.com"><meta name="copyright" content="lvfan"><title>【吕钒的后花园】</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});</script><script>var isPassword=!1;isPassword&&""!==prompt("请输入文章密码")&&(alert("密码错误！"),history.back())</script><script>window.GLOBAL_CONFIG={root:"/",algolia:{appId:"DDS7QLTFBR",apiKey:"4e05b9f66dc7fb2160aef36bd87ecc5a",indexName:"lvfan",hits:{per_page:10},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容:${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},gitment:{owner:"fan-lv",repo:"fan-lv.github.io",client_id:"09328cbecf9126bb0b49",client_secret:"ea229bdebbb9208f368808dc14e93dc38cc3276a"},valine:{},twikoo:{}}</script><meta name="generator" content="Hexo 6.0.0"></head><body><canvas id="universe"></canvas><div id="sidebar"><div class="author-info"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">吕钒</div><div class="author-info-description">心之所向 素履以往 生如逆旅 一苇以航</div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/fan-lv" target="_blank">GitHub<i class="icon-dot bg-color5"></i></a><a class="links-button button-hover" href="mailto:15757856604@163.com" target="_blank">E-Mail<i class="icon-dot bg-color6"></i></a><a class="links-button button-hover" href="tencent://message/?uin=1019593584&amp;Site=&amp;Menu=yes" target="_blank">QQ<i class="icon-dot bg-color9"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">日志</span><span class="pull-bottom">56</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">标签</span><span class="pull-bottom">31</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">分类</span><span class="pull-bottom">19</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">首页</a><a class="menu-item" href="/tags">标签</a><a class="menu-item" href="/categories">分类</a><a class="menu-item" href="/archives">归档</a><a class="menu-item" href="/about">关于</a></nav><div class="right-info"><a class="search social-icon"><i class="fas fa-search"></i> <span>搜索</span></a><a class="title-name" href="/">吕钒的后花园</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><div id="recent-posts"><div class="recent-post-item"><a class="post-title" href="/2018/06/11/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Python-python%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/">python的一些常用操作</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/Python/">Python</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/Python/">Python</a></div></div><div class="post-content"><div class="main-content content"><h2 id="连接-mongodb-数据库方法："><a href="#连接-mongodb-数据库方法：" class="headerlink" title="连接 mongodb 数据库方法："></a>连接 mongodb 数据库方法：</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pymongo <span class="keyword">import</span> MongoClient</span><br><span class="line">client = MongoClient(<span class="string">&#x27;localhost&#x27;</span>, <span class="number">27017</span>)</span><br><span class="line">client.database(用户名对应的数据库名称).authenticate(<span class="string">&quot;user&quot;</span>,<span class="string">&quot;password&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;连接数据库成功&#x27;</span>)</span><br><span class="line">users = client.oneDB.users(client.数据库.表名)</span><br></pre></td></tr></table></figure></div></div><a class="button-hover more" href="/2018/06/11/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Python-python%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2019/05/05/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Vue-Vue-%E9%81%8D%E5%8E%86%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/">Vue 遍历本地图片</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/Vue/">Vue</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/Vue/">Vue</a></div></div><div class="post-content"><div class="main-content content"><p>需要循环遍历本地图片地址时，打包后会出现图片找不到，解决方法，可以把图片通过 js import 进来，之后使用 import 的变量来循环</p></div></div><a class="button-hover more" href="/2019/05/05/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Vue-Vue-%E9%81%8D%E5%8E%86%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2019/06/12/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E9%97%AD%E5%8C%85/">闭包</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/JavaScript/">JavaScript</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/JavaScript/">JavaScript</a></div></div><div class="post-content"><div class="main-content content"><h2 id="词法作用域"><a href="#词法作用域" class="headerlink" title="词法作用域"></a>词法作用域</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">init</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&quot;Mozilla&quot;</span>; <span class="comment">// name 是一个被 init 创建的局部变量</span></span><br><span class="line">    <span class="function">function <span class="title">displayName</span>()</span> &#123; <span class="comment">// displayName() 是内部函数,一个闭包</span></span><br><span class="line">        alert(name); <span class="comment">// 使用了父函数中声明的变量</span></span><br><span class="line">    &#125;</span><br><span class="line">    displayName();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">init</span>();</span><br></pre></td></tr></table></figure><p>init() 创建了一个局部变量 name 和一个名为 displayName() 的函数。displayName() 是定义在 init() 里的内部函数，仅在该函数体内可用。displayName() 内没有自己的局部变量，然而它可以访问到外部函数的变量，所以 displayName() 可以使用父函数 init() 中声明的变量 name 。但是，如果有同名变量 name 在 displayName() 中被定义，则会使用 displayName() 中定义的 name 。</p></div></div><a class="button-hover more" href="/2019/06/12/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E9%97%AD%E5%8C%85/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2019/06/05/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Linux-Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">Linux 常用命令</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/Linux/">Linux</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/Linux/">Linux</a></div></div><div class="post-content"><div class="main-content content"><h2 id="Linux入门"><a href="#Linux入门" class="headerlink" title="Linux入门"></a>Linux入门</h2><p>编写命令:</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo hello world!!!</span><br></pre></td></tr></table></figure><p>不知道这个命令什么意思吗？没关系：</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">man</span> <span class="variable">echo</span>	<span class="function"><span class="title">manual</span>(手册)</span></span><br></pre></td></tr></table></figure></div></div><a class="button-hover more" href="/2019/06/05/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Linux-Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2018/06/21/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Linux-Linux-%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%90%AD%E5%BB%BA-shadowsocks-%E6%9C%8D%E5%8A%A1/">Linux 系统上搭建 shadowsocks 服务</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/Linux/">Linux</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/Linux/">Linux</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/Shell/">Shell</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/ShadowSocks/">ShadowSocks</a></div></div><div class="post-content"><div class="main-content content"><h2 id="服务端安装"><a href="#服务端安装" class="headerlink" title="服务端安装"></a>服务端安装</h2><blockquote><p>如果没有 root 权限，首先获取 root 权限</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo su</span></span><br></pre></td></tr></table></figure><h3 id="Debian-Ubuntu"><a href="#Debian-Ubuntu" class="headerlink" title="Debian / Ubuntu"></a>Debian / Ubuntu</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install python-pip</span><br><span class="line">pip install shadowsocks</span><br></pre></td></tr></table></figure><h3 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install python-setuptools &amp;&amp; easy_install pip</span><br><span class="line">pip install shadowsocks</span><br></pre></td></tr></table></figure></div></div><a class="button-hover more" href="/2018/06/21/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Linux-Linux-%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%90%AD%E5%BB%BA-shadowsocks-%E6%9C%8D%E5%8A%A1/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2018/12/05/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Linux-Linux-%E9%85%8D%E7%BD%AE-Hexo-Git-%E7%8E%AF%E5%A2%83/">Linux 配置 Hexo + Git 环境</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/Linux/">Linux</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/Linux/">Linux</a></div></div><div class="post-content"><div class="main-content content"><h2 id="linux-源码包安装"><a href="#linux-源码包安装" class="headerlink" title="linux 源码包安装"></a>linux 源码包安装</h2><ol><li>wget <a target="_blank" rel="noopener" href="http://xxxx">http://xxxx</a> 获取源码包</li><li>解压，tar zxvf xxx.tar.gz</li><li>./configure –prefix=/usr/local/xxx 指定安装路径</li><li>make 编译</li><li>make install 安装</li><li>配置环境变量<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="regexp">/etc/</span>profile</span><br></pre></td></tr></table></figure></li></ol><p>然后在文件的最后一行，添加下面的内容，然后保存退出。</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export <span class="title class_">PATH</span>=<span class="variable">$PATH</span><span class="symbol">:/usr/local/git/bin</span></span><br></pre></td></tr></table></figure><p>使用 source 命令生效。</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">source</span> <span class="regexp">/etc/</span>profile</span><br></pre></td></tr></table></figure></div></div><a class="button-hover more" href="/2018/12/05/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-Linux-Linux-%E9%85%8D%E7%BD%AE-Hexo-Git-%E7%8E%AF%E5%A2%83/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2018/07/17/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">数据类型</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/JavaScript/">JavaScript</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/JavaScript/">JavaScript</a></div></div><div class="post-content"><div class="main-content content"><p>ECMAScript 中有 6 种简单数据类型（也称为基本数据类型）：Undefined、Null、Boolean、Number、String、Symbol (new in ES 6，表示独一无二的值)。还有一种复杂数据类型-Object，Object 本质上是由一组无序的名值对组成的。</p><blockquote><p>除 Object 以外的所有类型都是不可变的（值本身无法被改变）。我们称这些类型的值为“原始值”。<br>如：JavaScript 中对字符串的操作一定返回了一个新字符串，原始字符串并没有被改变</p></blockquote></div></div><a class="button-hover more" href="/2018/07/17/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2018/06/11/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">正则表达式</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/JavaScript/">JavaScript</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/JavaScript/">JavaScript</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">正则表达式</a></div></div><div class="post-content"><div class="main-content content"><h2 id="什么是正则表达式："><a href="#什么是正则表达式：" class="headerlink" title="什么是正则表达式："></a>什么是正则表达式：</h2><p>查找符合某些复杂规则的字符串。正则表达式就是用于描述这些规则的工具。换句话说，正则表达式就是记录文本规则的代码。</p><p>例：查找 hi：</p><pre><code>\bhi\b</code></pre><p>\b 用于匹配一个位置，指 hi 前面或后面没有字符（匹配单词的开始或结束）</p><p>例：查找 hi 后面不远处跟着一个 Lucy：</p><pre><code>\bhi\b.*\bLucy\b</code></pre><p>. 是一个元字符，用于匹配除换行符外的任意字符<br>.* 表示任意数量的不包含换行的字符</p><p>例：0\d\d-\d\d\d\d\d\d\d\d 以 0 开头，然后两个数字，-，最后 8 个数字</p><p>（012-12345678）——&gt; 可以简写成 0\d{2}-\d{8}</p><p>例：简单的 IP 地址分配</p><pre><code>(\d&#123;1,3&#125;\.)&#123;3&#125;\d&#123;1,3&#125;——a.b.c.d</code></pre><p>\d{1,3}匹配 1 到 3 位数字，.匹配一个点（.），(\d{1,3}.){3}重复三次<br>abcd 数值处于 0-255</p><pre><code>((2[0-4]\d|25[0-5]|[01]?\d\d?)\.)&#123;3&#125;((2[0-4]\d|25[0-5]|[01]?\d\d?))
2[0-4]\d——匹配200-249之间的数值
25[0-5]——匹配250-255之间的数值
[01]?\d\d?——匹配0-199之间的数值

\b(\w+)\b\s+\1\b可以用来匹配重复的单词，像go go, 或者kitty kitty。</code></pre><p>这个表达式首先是一个单词，也就是单词开始处和结束处之间的多于一个的字母或数字(\b(\w+)\b)，这个单词会被捕获到编号为 1 的分组中，然后是 1 个或几个空白符(\s+)，最后是分组 1 中捕获的内容（也就是前面匹配的那个单词）(\1)</p></div></div><a class="button-hover more" href="/2018/06/11/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2019/05/29/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%AF%8F%E4%B8%80%E5%A4%A9/">获取时间范围内的每一天</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/JavaScript/">JavaScript</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/JavaScript/">JavaScript</a></div></div><div class="post-content"><div class="main-content content"><p>代码见详情</p></div></div><a class="button-hover more" href="/2019/05/29/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%AF%8F%E4%B8%80%E5%A4%A9/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2019/03/25/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E9%81%8D%E5%8E%86%E8%8F%9C%E5%8D%95%E6%95%B0%E7%BB%84%EF%BC%8C%E8%8E%B7%E5%8F%96%E9%80%89%E4%B8%AD%E7%9A%84%E5%AD%90%E8%8A%82%E7%82%B9%E7%9A%84%E6%89%80%E6%9C%89%E7%88%B6%E8%8A%82%E7%82%B9%E5%85%83%E7%B4%A0/">遍历菜单数组，获取选中的子节点的所有父节点元素</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/JavaScript/">JavaScript</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/JavaScript/">JavaScript</a></div></div><div class="post-content"><div class="main-content content"><h2 id="遍历菜单数组，获取选中的子节点的所有父节点元素"><a href="#遍历菜单数组，获取选中的子节点的所有父节点元素" class="headerlink" title="遍历菜单数组，获取选中的子节点的所有父节点元素"></a>遍历菜单数组，获取选中的子节点的所有父节点元素</h2><ol><li>假设有一个数组如下:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> menus = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&quot;menu1&quot;</span>,</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&quot;一级菜单1&quot;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&quot;menu2&quot;</span>,</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&quot;一级菜单2&quot;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&quot;menu3&quot;</span>,</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&quot;一级菜单3&quot;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">key</span>: <span class="string">&quot;menu3_1&quot;</span>,</span><br><span class="line">                <span class="attr">label</span>: <span class="string">&quot;一级菜单3_1&quot;</span>,</span><br><span class="line">                <span class="attr">icon</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">children</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">key</span>: <span class="string">&quot;menu3_1_1&quot;</span>,</span><br><span class="line">                        <span class="attr">label</span>: <span class="string">&quot;一级菜单3_1_1&quot;</span>,</span><br><span class="line">                        <span class="attr">icon</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                ],</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">key</span>: <span class="string">&quot;menu3_2&quot;</span>,</span><br><span class="line">                <span class="attr">label</span>: <span class="string">&quot;一级菜单3_2&quot;</span>,</span><br><span class="line">                <span class="attr">icon</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&quot;menu4&quot;</span>,</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&quot;未开发页面演示&quot;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li>需要获取到选中菜单 menu3_1_1 的所有父元素，即 menu3,menu3_1 和 menu3_1_1，js 代码如下:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* selectMenus 切换菜单时候触发的事件，参数为更改的菜单 key</span></span><br><span class="line"><span class="comment">* breadCrumb 选中菜单的所有父元素的数组集</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> breadCrumb = [];</span><br><span class="line"><span class="comment">// 遍历菜单</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">eachMenus</span>(<span class="params">item, name</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, j = item.<span class="property">length</span>; i &lt; j; i++) &#123;</span><br><span class="line">        breadCrumb.<span class="title function_">push</span>(item[i].<span class="property">label</span>);</span><br><span class="line">        <span class="keyword">if</span> (item[i].<span class="property">children</span>) &#123;</span><br><span class="line">            <span class="title function_">eachMenus</span>(item[i].<span class="property">children</span>, name);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (item[i].<span class="property">key</span> === name) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                breadCrumb.<span class="title function_">splice</span>(<span class="variable language_">this</span>.<span class="property">breadCrumb</span>.<span class="property">length</span> - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    breadCrumb.<span class="title function_">splice</span>(<span class="variable language_">this</span>.<span class="property">breadCrumb</span>.<span class="property">length</span> - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">selectMenus</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    breadCrumb = [];</span><br><span class="line">    <span class="title function_">eachMenus</span>(menus, name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></div></div><a class="button-hover more" href="/2019/03/25/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E9%81%8D%E5%8E%86%E8%8F%9C%E5%8D%95%E6%95%B0%E7%BB%84%EF%BC%8C%E8%8E%B7%E5%8F%96%E9%80%89%E4%B8%AD%E7%9A%84%E5%AD%90%E8%8A%82%E7%82%B9%E7%9A%84%E6%89%80%E6%9C%89%E7%88%B6%E8%8A%82%E7%82%B9%E5%85%83%E7%B4%A0/#more">阅读全文</a></div></div><div id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/3/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fas fa-angle-right"></i></a></div></div></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fas fa-user"></i></span><span id="busuanzi_value_site_uv"></span><span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fas fa-eye"></i></span><span id="busuanzi_value_site_pv"></span><span></span></div><div class="copyright">&copy;2017 ～ 2024 By 吕钒</div></div></div></footer></div><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><script src="/js/thirdparty/velocity.min.js"></script><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><script src="/js/fan.js"></script><script src="/js/canvas_bg.js"></script><script src="/js/utils.js"></script><script src="/js/scroll.js"></script><script src="/js/sidebar.js"></script><script src="/js/copy.js"></script><div class="search-dialog"><div id="algolia-search-title">Algolia</div><div class="search-close-button"><i class="fa fa-times"></i></div><div id="search-box"></div><hr><div id="hits"></div><div id="algolia-pagination"></div></div><div class="search-mask"></div><script src="/js/search/algolia.js"></script></body></html>