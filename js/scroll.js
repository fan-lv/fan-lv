"use strict";!function(){function n(t){t.velocity("stop").velocity("fadeIn",{duration:500,easing:"easeInQuart"})}$("#return-top").on("click",function(){$("#content-outer").mCustomScrollbar("scrollTo","top",{scrollInertia:1e3,scrollEasing:"easeInOut"})}),$("#content-outer").mCustomScrollbar({theme:"minimal",axis:"y",callbacks:{whileScrolling:function(){var t,o;this.mcs.top<-600?"0"===$("#return-top").css("opacity")&&$("#return-top").velocity("stop").velocity({opacity:1},{duration:500,display:"block"}):$("#return-top").velocity("stop").velocity({opacity:0},{duration:500,display:"none"}),t=this,o=Math.round(-t.mcs.top/(t.mcs.content[0].offsetHeight-t.offsetHeight)*100),$(".sidebar-toc-progress .progress-num").text(o),$(".sidebar-toc-progress-bar").velocity("stop").velocity({width:o+"%"},{duration:100,easing:"easeInOutQuart"}),function(){var t="",o=$("#menu-outer").height()+1;if($("#post").find("h1,h2,h3,h4,h5,h6").each(function(){$(this).offset().top<=o&&(t=$(this).attr("id"))}),$(".sidebar-toc-content .toc-link").removeClass("active"),""===t)return;var e=$('.sidebar-toc-content .toc-link[href="#'+t+'"]');e.addClass("active");var i=e.parents(".toc-child");{var c;0<i.length?(c=null,0<(c=1<i.length?i.eq(i.length-1).find(".toc-child"):i).length&&c.is(":hidden")&&n(c),i.eq(i.length-1).closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()):(e.closest(".toc-item").find(".toc-child").is(":hidden")&&n(e.closest(".toc-item").find(".toc-child")),e.closest(".toc-item").siblings(".toc-item").find(".toc-child").hide())}}()},onScroll:function(){}}}),$("#sidebar-toc-content").mCustomScrollbar({theme:"minimal",axis:"y",callbacks:{}}),$(".sidebar-toc-content .toc-link").on("click",function(t){t.preventDefault();var o=$(this).attr("href");$("#content-outer").mCustomScrollbar("scrollTo",o,{scrollInertia:500})})}();