<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="正则表达式"><meta name="keywords" content="JavaScript,正则表达式"><meta name="author" content="吕钒,15757856604@163.com"><meta name="copyright" content="lvfan"><title>正则表达式【吕钒的后花园】</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script><script src="/js/mathjax/mathjax.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});</script><script>var isPassword=!1;isPassword&&""!==prompt("请输入文章密码")&&(alert("密码错误！"),history.back())</script><script>window.GLOBAL_CONFIG={root:"/",algolia:{appId:"DDS7QLTFBR",apiKey:"4e05b9f66dc7fb2160aef36bd87ecc5a",indexName:"lvfan",hits:{per_page:10},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容:${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},gitment:{},valine:{appId:"KX571rEzW5nRLWCfqRYsW1Cu-9Nh9j0Va",appKey:"Ost4nmwAxqVOb8hXC5UETzUu",placeholder:"快来评论吧～～",avatar:"wavatar",requiredFields:["nick","mail"],emojiCDN:"//i0.hdslb.com/bfs/emote/",emojiMaps:{"tv_白眼":"c1d59f439e379ee50eef488bcb5e5378e5044ea4.png@112w_112h.webp",tv_doge:"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png@112w_112h.webp","tv_坏笑":"1f0b87f731a671079842116e0991c91c2c88645a.png@112w_112h.webp","tv_难过":"87f46748d3f142ebc6586ff58860d0e2fc8263ba.png@112w_112h.webp","tv_生气":"26702dcafdab5e8225b43ffd23c94ac1ff932654.png@112w_112h.webp","tv_委屈":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png@112w_112h.webp","tv_斜眼笑":"911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png@112w_112h.webp","tv_呆":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png@112w_112h.webp","tv_发怒":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png@112w_112h.webp","tv_惊吓":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png@112w_112h.webp","tv_呕吐":"9f996894a39e282ccf5e66856af49483f81870f3.png@112w_112h.webp","tv_思考":"90cf159733e558137ed20aa04d09964436f618a1.png@112w_112h.webp","tv_微笑":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png@112w_112h.webp","tv_疑问":"0793d949b18d7be716078349c202c15ff166f314.png@112w_112h.webp","tv_大哭":"23269aeb35f99daee28dda129676f6e9ea87934f.png@112w_112h.webp","tv_鼓掌":"1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png@112w_112h.webp","tv_抠鼻":"c666f55e88d471e51bbd9fab9bb308110824a6eb.png@112w_112h.webp","tv_亲亲":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png@112w_112h.webp","tv_调皮":"b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png@112w_112h.webp","tv_笑哭":"1abc628f6d4f4caf9d0e7800878f4697abbc8273.png@112w_112h.webp","tv_晕":"5443c22b4d07fb1907ccc610c8e6db254f2461b7.png@112w_112h.webp","tv_点赞":"f85c354995bd99e28fc76c869bfe42ba6438eff4.png@112w_112h.webp","tv_害羞":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png@112w_112h.webp","tv_睡着":"8b196675b53af58264f383c50ad0945048290b33.png@112w_112h.webp","tv_色":"61822c7e9aae5da76475e7892534545336b23a6f.png@112w_112h.webp","tv_吐血":"09dd16a7aa59b77baa1155d47484409624470c77.png@112w_112h.webp","tv_无奈":"ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png@112w_112h.webp","tv_再见":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png@112w_112h.webp","tv_流汗":"cead1c351ab8d79e9f369605beb90148db0fbed3.png@112w_112h.webp","tv_偷笑":"bb690d4107620f1c15cff29509db529a73aee261.png@112w_112h.webp","tv_抓狂":"fe31c08edad661d63762b04e17b8d5ae3c71a757.png@112w_112h.webp","tv_黑人问号":"45821a01f51bc867da9edbaa2e070410819a95b2.png@112w_112h.webp","tv_困":"241ee304e44c0af029adceb294399391e4737ef2.png@112w_112h.webp","tv_打脸":"56ab10b624063e966bfcb76ea5dc4794d87dfd47.png@112w_112h.webp","tv_闭嘴":"c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png@112w_112h.webp","tv_鄙视":"6e72339f346a692a495b123174b49e4e8e781303.png@112w_112h.webp","tv_腼腆":"89712c0d4af73e67f89e35cbc518420380a7f6f4.png@112w_112h.webp","tv_馋":"fc7e829b845c43c623c8b490ee3602b7f0e76a31.png@112w_112h.webp","tv_可爱":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png@112w_112h.webp","tv_发财":"34db290afd2963723c6eb3c4560667db7253a21a.png@112w_112h.webp","tv_生病":"8b0ec90e6b86771092a498c54f09fc94621c1900.png@112w_112h.webp","tv_流鼻血":"c32d39db2737f89b904ca32700d140a9241b0767.png@112w_112h.webp","tv_尴尬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png@112w_112h.webp","tv_大佬":"093c1e2c490161aca397afc45573c877cdead616.png@112w_112h.webp","tv_流泪":"7e71cde7858f0cd50d74b0264aa26db612a8a167.png@112w_112h.webp","tv_冷漠":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png@112w_112h.webp","tv_皱眉":"72ccad6679fea0d14cce648b4d818e09b8ffea2d.png@112w_112h.webp","tv_鬼脸":"0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png@112w_112h.webp","tv_调侃":"4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png@112w_112h.webp","tv_目瞪口呆":"0b8cb81a68de5d5365212c99375e7ace3e7891b7.png@112w_112h.webp"}}}</script><meta name="generator" content="Hexo 6.0.0"></head><body><canvas id="universe"></canvas><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="文章目录">站点概览</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">目录</div><div class="sidebar-toc-progress"><span class="progress-notice">您已阅读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">什么是正则表达式：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%85%83%E5%AD%97%E7%AC%A6"><span class="toc-number">2.</span> <span class="toc-text">常用的元字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E9%99%90%E5%AE%9A%E7%AC%A6"><span class="toc-number">3.</span> <span class="toc-text">常用的限定符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8F%8D%E4%B9%89%E4%BB%A3%E7%A0%81"><span class="toc-number">4.</span> <span class="toc-text">常用的反义代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%88%86%E7%BB%84%E8%AF%AD%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">常用分组语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B4%AA%E5%A9%AA%E5%8C%B9%E9%85%8D%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">贪婪匹配：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%87%92%E6%83%B0%E5%8C%B9%E9%85%8D%EF%BC%9A"><span class="toc-number">7.</span> <span class="toc-text">懒惰匹配：</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">吕钒</div><div class="author-info-description">心之所向 素履以往 生如逆旅 一苇以航</div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/fan-lv" target="_blank">GitHub<i class="icon-dot bg-color6"></i></a><a class="links-button button-hover" href="mailto:15757856604@163.com" target="_blank">E-Mail<i class="icon-dot bg-color7"></i></a><a class="links-button button-hover" href="tencent://message/?uin=1019593584&amp;Site=&amp;Menu=yes" target="_blank">QQ<i class="icon-dot bg-color4"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">日志</span><span class="pull-bottom">55</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">标签</span><span class="pull-bottom">31</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">分类</span><span class="pull-bottom">18</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">首页</a><a class="menu-item" href="/tags">标签</a><a class="menu-item" href="/categories">分类</a><a class="menu-item" href="/archives">归档</a><a class="menu-item" href="/about">关于</a></nav><div class="right-info"><a class="search social-icon"><i class="fas fa-search"></i><span> 搜索</span></a><a class="title-name" href="/">吕钒的后花园</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">正则表达式</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 发表于 2018-06-11 | 更新于 2020-07-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/">前端资料</a><i class="fa fa-angle-right" style="margin:0 8px"></i><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99/JavaScript/">JavaScript</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/JavaScript/">JavaScript</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">正则表达式</a></div></div></div><div class="main-content"><h2 id="什么是正则表达式："><a href="#什么是正则表达式：" class="headerlink" title="什么是正则表达式："></a>什么是正则表达式：</h2><p>查找符合某些复杂规则的字符串。正则表达式就是用于描述这些规则的工具。换句话说，正则表达式就是记录文本规则的代码。</p><p>例：查找 hi：</p><pre><code>\bhi\b</code></pre><p>\b 用于匹配一个位置，指 hi 前面或后面没有字符（匹配单词的开始或结束）</p><p>例：查找 hi 后面不远处跟着一个 Lucy：</p><pre><code>\bhi\b.*\bLucy\b</code></pre><p>. 是一个元字符，用于匹配除换行符外的任意字符<br>.* 表示任意数量的不包含换行的字符</p><p>例：0\d\d-\d\d\d\d\d\d\d\d 以 0 开头，然后两个数字，-，最后 8 个数字</p><p>（012-12345678）——&gt; 可以简写成 0\d{2}-\d{8}</p><p>例：简单的 IP 地址分配</p><pre><code>(\d&#123;1,3&#125;\.)&#123;3&#125;\d&#123;1,3&#125;——a.b.c.d</code></pre><p>\d{1,3}匹配 1 到 3 位数字，.匹配一个点（.），(\d{1,3}.){3}重复三次<br>abcd 数值处于 0-255</p><pre><code>((2[0-4]\d|25[0-5]|[01]?\d\d?)\.)&#123;3&#125;((2[0-4]\d|25[0-5]|[01]?\d\d?))
2[0-4]\d——匹配200-249之间的数值
25[0-5]——匹配250-255之间的数值
[01]?\d\d?——匹配0-199之间的数值

\b(\w+)\b\s+\1\b可以用来匹配重复的单词，像go go, 或者kitty kitty。</code></pre><p>这个表达式首先是一个单词，也就是单词开始处和结束处之间的多于一个的字母或数字(\b(\w+)\b)，这个单词会被捕获到编号为 1 的分组中，然后是 1 个或几个空白符(\s+)，最后是分组 1 中捕获的内容（也就是前面匹配的那个单词）(\1)</p><span id="more"></span><h2 id="常用的元字符"><a href="#常用的元字符" class="headerlink" title="常用的元字符"></a>常用的元字符</h2><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>.</td><td>匹配除换行符以外的任意字符</td></tr><tr><td>\w</td><td>匹配字母或数字或下划线或汉字</td></tr><tr><td>\s</td><td>匹配任意的空白符</td></tr><tr><td>\d</td><td>匹配数字</td></tr><tr><td>\b</td><td>匹配单词的开始或结束</td></tr><tr><td>^</td><td>匹配字符串的开始</td></tr><tr><td>$</td><td>匹配字符串的结束</td></tr></tbody></table><p>如果要查找元字符本身，就要用\来取消定义<br>如：查找. 用. 查找* 用* 查找\ 用\<br>[0-9]=\d</p><h2 id="常用的限定符"><a href="#常用的限定符" class="headerlink" title="常用的限定符"></a>常用的限定符</h2><table><thead><tr><th>代码/语法</th><th>说明</th></tr></thead><tbody><tr><td>*</td><td>重复零次或更多次</td></tr><tr><td>+</td><td>重复一次或更多次</td></tr><tr><td>?</td><td>重复零次或一次</td></tr><tr><td>{n}</td><td>重复 n 次</td></tr><tr><td>{n,}</td><td>重复 n 次或更多次</td></tr><tr><td>{n,m}</td><td>重复 n 到 m 次</td></tr></tbody></table><h2 id="常用的反义代码"><a href="#常用的反义代码" class="headerlink" title="常用的反义代码"></a>常用的反义代码</h2><table><thead><tr><th>代码/语法</th><th>说明</th></tr></thead><tbody><tr><td>\W</td><td>匹配任意不是字母，数字，下划线，汉字的字符</td></tr><tr><td>\S</td><td>匹配任意不是空白符的字符</td></tr><tr><td>\D</td><td>匹配任意非数字的字符</td></tr><tr><td>\B</td><td>匹配不是单词开头或结束的位置</td></tr><tr><td>[^x]</td><td>匹配除了 x 以外的任意字符</td></tr><tr><td>[^aeiou]</td><td>匹配除了 aeiou 这几个字母以外的任意字符</td></tr></tbody></table><h2 id="常用分组语法"><a href="#常用分组语法" class="headerlink" title="常用分组语法"></a>常用分组语法</h2><table><thead><tr><th>分类</th><th>代码/语法</th><th>说明</th></tr></thead><tbody><tr><td>捕获</td><td>(exp)</td><td>匹配 exp,并捕获文本到自动命名的组里</td></tr><tr><td>-</td><td>(?<name>exp)</name></td><td>匹配 exp,并捕获文本到名称为 name 的组里，也可以写成(?’name’exp)</td></tr><tr><td>-</td><td>(?:exp)</td><td>匹配 exp,不捕获匹配的文本，也不给此分组分配组号</td></tr><tr><td>零宽断言</td><td>(?=exp)</td><td>匹配 exp 前面的位置</td></tr><tr><td>-</td><td>(?=exp)</td><td>匹配 exp 后面的位置</td></tr><tr><td>-</td><td>(?!exp)</td><td>匹配后面跟的不是 exp 的位置</td></tr><tr><td>-</td><td>(?&lt;!exp)</td><td>匹配前面不是 exp 的位置</td></tr><tr><td>注释</td><td>(?#comment)</td><td>这种类型的分组不对正则表达式的处理产生任何影响，用于提供注释让人阅读</td></tr></tbody></table><pre><code>\b\w+(?=ing\b) 匹配以ing结尾的单词的前面部分（不包含ing）  
(?&lt;=bre)\w+\b 匹配以re开头的单词的后半部分（不包含bre）  
(?&lt;=\s)\d+(?=\s) 匹配以空白字符间隔的数字（不包含这些空白字符）  
\b\w*q[^u]\w*\b
匹配包含后面不是字母u的字母q的单词。
但是如果q出现在单词的结尾的话，像Iraq,Benq，这个表达式就会出错。
这是因为[^u]总要匹配一个字符，所以如果q是单词的最后一个字符的话，后面的[^u]将会匹配q后面的单词分隔符(可能是空格，或者是句号或其它的什么)，后面的\w*\b将会匹配下一个单词，于是\b\w*q[^u]\w*\b就能匹配整个Iraq fighting。
负向零宽断言能解决这样的问题，因为它只匹配一个位置，并不消费任何字符。
现在，我们可以这样来解决这个问题：\b\w*q(?!u)\w*\b。</code></pre><h2 id="贪婪匹配："><a href="#贪婪匹配：" class="headerlink" title="贪婪匹配："></a>贪婪匹配：</h2><p>a.*b 会匹配最长的以 a 开始，b 结束的字符串，比如 aabab，结果是 aabab。</p><h2 id="懒惰匹配："><a href="#懒惰匹配：" class="headerlink" title="懒惰匹配："></a>懒惰匹配：</h2><p>a.*?b 如 aabab，结果是 aab（第一个字符到第三个字符）和 ab（第四个到第五个字符）；为什么是 aab 而不是 ab（第二到第三个字符），因为正则表达式有一条规则：最先开始匹配拥有最高优先级。</p><ol><li><p>校验密码强度<br>密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在 8-10 之间。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(<span class="string">?=</span>.*\\d)(<span class="string">?=</span>.*[a-z])(<span class="string">?=</span>.*[A-Z]).&#123;<span class="number">8</span>,<span class="number">10</span>&#125;$</span><br></pre></td></tr></table></figure></li><li><p>校验中文<br>字符串仅能是中文。</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^[<span class="symbol">\\</span>u4e00-<span class="symbol">\\</span>u9fa5]&#123;0,&#125;$</span><br></pre></td></tr></table></figure></li><li><p>由数字、26 个英文字母或下划线组成的字符串</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^\\w+<span class="symbol">$</span></span><br></pre></td></tr></table></figure></li><li><p>校验 E-Mail 地址<br>同密码一样，下面是 E-mail 地址合规性的正则检查语句。</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">\\</span>w!#$%&amp;&#x27;*+/=?^_`&#123;|&#125;~-]+(?:<span class="symbol">\\</span>.[<span class="symbol">\\</span>w!#$%&amp;&#x27;*+/=?^_`&#123;|&#125;~-]+)*@(?:[<span class="symbol">\\</span>w](?:[<span class="symbol">\\</span>w-]*[<span class="symbol">\\</span>w])?<span class="symbol">\\</span>.)+[<span class="symbol">\\</span>w](?:[<span class="symbol">\\</span>w-]*[<span class="symbol">\\</span>w])?</span><br></pre></td></tr></table></figure></li><li><p>校验身份证号码<br>下面是身份证号码的正则校验。15 或 18 位。<br>15 位：</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^[<span class="number">1</span><span class="number">-9</span>]\\d&#123;<span class="number">7</span>&#125;((<span class="number">0</span>\\d)|<span class="type">(1</span>[<span class="number">0</span><span class="number">-2</span>]))(([<span class="number">0</span>|<span class="type">1</span>|<span class="type">2</span>]\\d)|<span class="type">3</span>[<span class="number">0</span><span class="number">-1</span>])\\d&#123;<span class="number">3</span>&#125;$</span><br></pre></td></tr></table></figure><p>18 位：</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^<span class="comment">[1-9]</span>\\d&#123;5&#125;<span class="comment">[1-9]</span>\\d&#123;3&#125;((0\\d)|(1<span class="comment">[0-2]</span>))((<span class="comment">[0|1|2]</span>\\d)|3<span class="comment">[0-1]</span>)\\d&#123;3&#125;(<span class="comment">[0-9]</span>|X)$</span><br></pre></td></tr></table></figure></li><li><p>校验日期<br>“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(?:(?!0000)<span class="comment">[0-9]</span>&#123;4&#125;-(?:(?:0<span class="comment">[1-9]</span>|1<span class="comment">[0-2]</span>)-(?:0<span class="comment">[1-9]</span>|1<span class="comment">[0-9]</span>|2<span class="comment">[0-8]</span>)|(?:0<span class="comment">[13-9]</span>|1<span class="comment">[0-2]</span>)-(?:29|30)|(?:0<span class="comment">[13578]</span>|1<span class="comment">[02]</span>)-31)|(?:<span class="comment">[0-9]</span>&#123;2&#125;(?:0<span class="comment">[48]</span>|<span class="comment">[2468]</span><span class="comment">[048]</span>|<span class="comment">[13579]</span><span class="comment">[26]</span>)|(?:0<span class="comment">[48]</span>|<span class="comment">[2468]</span><span class="comment">[048]</span>|<span class="comment">[13579]</span><span class="comment">[26]</span>)00)-02-29)$</span><br></pre></td></tr></table></figure></li><li><p>校验金额<br>金额校验，精确到 2 位小数。</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^<span class="comment">[0-9]</span>+(.<span class="comment">[0-9]</span>&#123;2&#125;)?$</span><br></pre></td></tr></table></figure></li><li><p>校验手机号<br>下面是国内 13、15、18 开头的手机号正则表达式。（可根据目前国内收集号扩展前两位开头号码）</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(<span class="number">13</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="type">14</span>[<span class="number">5</span>|<span class="type">7</span>]|<span class="type">15</span>[<span class="number">0</span>|<span class="type">1</span>|<span class="type">2</span>|<span class="type">3</span>|<span class="type">5</span>|<span class="type">6</span>|<span class="type">7</span>|<span class="type">8</span>|<span class="type">9</span>]|<span class="type">18</span>[<span class="number">0</span>|<span class="type">1</span>|<span class="type">2</span>|<span class="type">3</span>|<span class="type">5</span>|<span class="type">6</span>|<span class="type">7</span>|<span class="type">8</span>|<span class="type">9</span>])\\d&#123;<span class="number">8</span>&#125;$</span><br></pre></td></tr></table></figure></li><li><p>判断 IE 的版本<br>IE 目前还没被完全取代，很多页面还是需要做版本兼容，下面是 IE 版本检查的表达式。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^.*<span class="variable constant_">MSIE</span> [<span class="number">5</span>-<span class="number">8</span>](<span class="string">?:\\</span>.[<span class="number">0</span>-<span class="number">9</span>]+)<span class="string">?(</span><span class="string">?!</span>.*<span class="title class_">Trident</span>\\/[<span class="number">5</span>-<span class="number">9</span>]\\.<span class="number">0</span>).*$</span><br></pre></td></tr></table></figure></li><li><p>校验 IP-v4 地址<br>IP4 正则语句。</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\\b(?:(?:25<span class="comment">[0-5]</span>|2<span class="comment">[0-4]</span><span class="comment">[0-9]</span>|<span class="comment">[01]</span>?<span class="comment">[0-9]</span><span class="comment">[0-9]</span>?)\\.)&#123;3&#125;(?:25<span class="comment">[0-5]</span>|2<span class="comment">[0-4]</span><span class="comment">[0-9]</span>|<span class="comment">[01]</span>?<span class="comment">[0-9]</span><span class="comment">[0-9]</span>?)\\b</span><br></pre></td></tr></table></figure></li><li><p>校验 IP-v6 地址<br>IP6 正则语句。</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(([<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:)&#123;<span class="number">7</span>,<span class="number">7</span>&#125;[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;|([<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:)&#123;<span class="number">1</span>,<span class="number">7</span>&#125;:|([<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:)&#123;<span class="number">1</span>,<span class="number">6</span>&#125;:[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;|([<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:)&#123;<span class="number">1</span>,<span class="number">5</span>&#125;(<span class="name">:</span>[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;)&#123;<span class="number">1</span>,<span class="number">2</span>&#125;|([<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:)&#123;<span class="number">1</span>,<span class="number">4</span>&#125;(<span class="name">:</span>[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;)&#123;<span class="number">1</span>,<span class="number">3</span>&#125;|([<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:)&#123;<span class="number">1</span>,<span class="number">3</span>&#125;(<span class="name">:</span>[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;)&#123;<span class="number">1</span>,<span class="number">4</span>&#125;|([<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:)&#123;<span class="number">1</span>,<span class="number">2</span>&#125;(<span class="name">:</span>[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;)&#123;<span class="number">1</span>,<span class="number">5</span>&#125;|[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:((<span class="name">:</span>[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;)&#123;<span class="number">1</span>,<span class="number">6</span>&#125;)|:((<span class="name">:</span>[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;)&#123;<span class="number">1</span>,<span class="number">7</span>&#125;|:)|fe80:(<span class="name">:</span>[<span class="name">0-9a-fA-F</span>]&#123;<span class="number">0</span>,<span class="number">4</span>&#125;)&#123;<span class="number">0</span>,<span class="number">4</span>&#125;%[<span class="name">0-9a-zA-Z</span>]&#123;<span class="number">1</span>,&#125;|::(<span class="name">ffff</span>(<span class="name">:0</span>&#123;<span class="number">1</span>,<span class="number">4</span>&#125;)&#123;<span class="number">0</span>,<span class="number">1</span>&#125;:)&#123;<span class="number">0</span>,<span class="number">1</span>&#125;((<span class="name">25</span>[<span class="name">0-5</span>]|(<span class="name">2</span>[<span class="name">0-4</span>]|<span class="number">1</span>&#123;<span class="number">0</span>,<span class="number">1</span>&#125;[<span class="name">0-9</span>])&#123;<span class="number">0</span>,<span class="number">1</span>&#125;[<span class="name">0-9</span>])\\.)&#123;<span class="number">3</span>,<span class="number">3</span>&#125;(<span class="name">25</span>[<span class="name">0-5</span>]|(<span class="name">2</span>[<span class="name">0-4</span>]|<span class="number">1</span>&#123;<span class="number">0</span>,<span class="number">1</span>&#125;[<span class="name">0-9</span>])&#123;<span class="number">0</span>,<span class="number">1</span>&#125;[<span class="name">0-9</span>])|([<span class="name">0-9a-fA-F</span>]&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:)&#123;<span class="number">1</span>,<span class="number">4</span>&#125;:((<span class="name">25</span>[<span class="name">0-5</span>]|(<span class="name">2</span>[<span class="name">0-4</span>]|<span class="number">1</span>&#123;<span class="number">0</span>,<span class="number">1</span>&#125;[<span class="name">0-9</span>])&#123;<span class="number">0</span>,<span class="number">1</span>&#125;[<span class="name">0-9</span>])\\.)&#123;<span class="number">3</span>,<span class="number">3</span>&#125;(<span class="name">25</span>[<span class="name">0-5</span>]|(<span class="name">2</span>[<span class="name">0-4</span>]|<span class="number">1</span>&#123;<span class="number">0</span>,<span class="number">1</span>&#125;[<span class="name">0-9</span>])&#123;<span class="number">0</span>,<span class="number">1</span>&#125;[<span class="name">0-9</span>]))</span><br></pre></td></tr></table></figure></li><li><p>检查 URL 的前缀<br>应用开发中很多时候需要区分请求是 HTTPS 还是 HTTP，通过下面的表达式可以取出一个 url 的前缀然后再逻辑判断。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!s.<span class="title function_">match</span>(<span class="regexp">/^[a-zA-Z]+:\\/</span>\\<span class="comment">//))</span></span><br><span class="line">&#123;</span><br><span class="line">    s = <span class="string">&#x27;http://&#x27;</span> + s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>提取 URL 链接<br>下面的这个表达式可以筛选出一段文本中的 URL。</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(f|ht)&#123;1&#125;(tp|tps):<span class="symbol">\\</span>/<span class="symbol">\\</span>/([<span class="symbol">\\</span>w-]+<span class="symbol">\\</span>.)+[<span class="symbol">\\</span>w-]+(<span class="symbol">\\</span>/[<span class="symbol">\\</span>w- ./?%&amp;=]*)?</span><br></pre></td></tr></table></figure></li><li><p>文件路径及扩展名校验<br>验证 windows 下文件路径和扩展名（下面的例子中为.txt 文件）</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^([a-zA-Z]<span class="symbol">\\</span>:|<span class="symbol">\\</span><span class="symbol">\\</span>)<span class="symbol">\\</span><span class="symbol">\\</span>([^<span class="symbol">\\</span><span class="symbol">\\</span>]+<span class="symbol">\\</span><span class="symbol">\\</span>)*[^<span class="symbol">\\</span>/:*?&quot;&lt;&gt;|]+<span class="symbol">\\</span>.txt(l)?$</span><br></pre></td></tr></table></figure></li><li><p>提取 Color Hex Codes<br>有时需要抽取网页中的颜色代码，可以使用下面的表达式。</p><figure class="highlight leaf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^<span class="function"><span class="keyword">#</span><span class="params">([<span class="variable">A</span>-<span class="variable">Fa</span>-<span class="variable">f0</span>-9]&#123;6&#125;|[<span class="variable">A</span>-<span class="variable">Fa</span>-<span class="variable">f0</span>-9]&#123;3&#125;)</span></span>$</span><br></pre></td></tr></table></figure></li><li><p>提取网页图片<br>假若你想提取网页中所有图片信息，可以利用下面的表达式。</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">\\</span>&lt; *[img][^<span class="symbol">\\</span><span class="symbol">\\</span>&gt;]*[src] *= *[<span class="symbol">\\</span>&quot;<span class="symbol">\\</span>&#x27;]&#123;0,1&#125;([^<span class="symbol">\\</span>&quot;<span class="symbol">\\</span>&#x27;<span class="symbol">\\</span> &gt;]*)</span><br></pre></td></tr></table></figure></li><li><p>提取页面超链接<br>提取 html 中的超链接。</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(&lt;a\\s*(?!.*\\brel=)</span>[^&gt;]*)<span class="comment">(href=&quot;https?:\\/\\/)</span><span class="comment">((?!(?:(?:www\\.)</span>?<span class="string">&#x27;.implode(&#x27;</span>|<span class="comment">(?:www\\.)</span>?<span class="string">&#x27;, $follow_list).&#x27;</span>))[^<span class="string">&quot;]+)&quot;</span><span class="comment">((?!.*\\brel=)</span>[^&gt;]*)<span class="comment">(?:[^&gt;]*)</span>&gt;</span><br></pre></td></tr></table></figure></li><li><p>查找 CSS 属性<br>通过下面的表达式，可以搜索到相匹配的 CSS 属性。</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^<span class="symbol">\\</span>s*[a-zA-Z<span class="symbol">\\</span>-]+<span class="symbol">\\</span>s*[:]&#123;1&#125;<span class="symbol">\\</span>s[a-zA-Z0-9<span class="symbol">\\</span>s.#]+[;]&#123;1&#125;</span><br></pre></td></tr></table></figure></li><li><p>抽取注释<br>如果你需要移除 HMTL 中的注释，可以使用如下的表达式。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--(.*?)--&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>匹配 HTML 标签<br>通过下面的表达式可以匹配出 HTML 中的标签属性。</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="symbol">\\</span>/?<span class="symbol">\\</span>w+((<span class="symbol">\\</span>s+<span class="symbol">\\</span>w+(<span class="symbol">\\</span>s*=<span class="symbol">\\</span>s*(?:&quot;.*?&quot;|&#x27;.*?&#x27;|[<span class="symbol">\\</span>^&#x27;&quot;&gt;<span class="symbol">\\</span>s]+))?)+<span class="symbol">\\</span>s*|<span class="symbol">\\</span>s*)<span class="symbol">\\</span>/?&gt;</span><br></pre></td></tr></table></figure></li></ol></div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">本文作者: </span><span class="post-copyright-info"><a href="mailto:15757856604@163.com">吕钒</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">本文链接: </span><span class="post-copyright-info"><a href="https://lv-fan.gitee.io/lvfan/2018/06/11/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">https://lv-fan.gitee.io/lvfan/2018/06/11/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://lv-fan.gitee.io/lvfan">吕钒的后花园</a>！</span></div></div><div class="post-copyright valine" id="comments-container"><script src="//unpkg.com/valine@1.4.14/dist/Valine.min.js"></script><script>let arr = location.href.split('/#more')[0].split('/');
let title = arr[arr.length - 1];
if (title === '') {
    title = arr[arr.length - 2];
}
var flag = false;
var gitFun = function () {
    try {
        var valineObj = window.GLOBAL_CONFIG.valine;
        new Valine({
            el: "#comments-container",
            ...valineObj
        });
        flag = true;
    } catch (e) {
        flag = false;
    }
}
var setIn = setInterval(() => {
    if (!flag) {
        gitFun();
    } else {
        clearInterval(setIn);
    }
}, 200);</script></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2018/06/11/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-JavaScript-JavaScript%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84%E4%B8%8E%E4%BC%AA%E6%95%B0%E7%BB%84%E7%9A%84%E5%8C%BA%E5%88%AB/"><i class="fas fa-angle-left">&nbsp;</i><span>JavaScript中的数组与伪数组的区别</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2018/06/05/%E5%89%8D%E7%AB%AF%E8%B5%84%E6%96%99-HTML-canvas/"><span>canvas</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2017 ～ 2023 By 吕钒</div></div></div></footer></div><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><script src="/js/thirdparty/velocity.min.js"></script><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><script src="/js/fan.js"></script><script src="/js/canvas_bg.js"></script><script src="/js/utils.js"></script><script src="/js/scroll.js"></script><script src="/js/sidebar.js"></script><script src="/js/copy.js"></script><div class="search-dialog"><div id="algolia-search-title">Algolia</div><div class="search-close-button"><i class="fa fa-times"></i></div><div id="search-box"></div><hr><div id="hits"></div><div id="algolia-pagination"></div></div><div class="search-mask"></div><script src="/js/search/algolia.js"></script></body></html>